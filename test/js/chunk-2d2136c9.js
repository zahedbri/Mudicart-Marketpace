(window["webpackJsonp_ecomplus_marketplace"]=window["webpackJsonp_ecomplus_marketplace"]||[]).push([["chunk-2d2136c9"],{ad2b:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("Application",{scopedSlots:t._u([{key:"settings-append",fn:function(){return[e("a-collapse",{staticClass:"mt-4"},[e("a-collapse-panel",{key:"1",attrs:{header:t.i19Advanced}},[e("a-alert",{attrs:{message:t.i19ApiKeyAlert,banner:""}}),e("div",{staticClass:"mt-3"},[e("a-list",{attrs:{size:"small",bordered:"",itemLayout:"horizontal"}},[e("a-list-item",[e("a-list-item-meta",{attrs:{description:t.i19StoresDescription}},[e("a",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.i19Stores))])]),e("div",[e("a-dropdown",[e("a-menu",{attrs:{slot:"overlay"},on:{click:t.handleClick},slot:"overlay"},[e("a-menu-item",{key:"fetchStores"},[t._v(t._s(t.i19StoreFetch))]),e("a-menu-item",{key:"newStore"},[t._v(t._s(t.i19StoreCreate))])],1),e("a-button",[t._v(" "+t._s(t.i19Options)+" "),e("a-icon",{attrs:{type:"down"}})],1)],1)],1)],1),e("a-list-item",[e("a-list-item-meta",{attrs:{description:t.i19ListDescription}},[e("a",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.i19Lists))])]),e("div",[e("a-dropdown",[e("a-menu",{attrs:{slot:"overlay"},on:{click:t.handleClick},slot:"overlay"},[e("a-menu-item",{key:"fetchLists"},[t._v(t._s(t.i19ListsSearch))]),e("a-menu-item",{key:"newList"},[t._v(t._s(t.i19ListsCreate))])],1),e("a-button",[t._v(" "+t._s(t.i19Options)+" "),e("a-icon",{attrs:{type:"down"}})],1)],1)],1)],1)],1)],1),e("div",{staticClass:"mt-3"},[e("a-alert",{attrs:{message:t.i19StoreIdAlert,banner:""}})],1),e("div",{staticClass:"mt-3"},[e("a-list",{attrs:{size:"small",bordered:"",itemLayout:"horizontal"}},[e("a-list-item",[e("a-list-item-meta",{attrs:{description:t.i19SyncProductsMessage}},[e("a",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.i19SyncProducts))])]),e("div",[e("a-button",{attrs:{type:"primary"},on:{click:t.syncProducts}},[t._v(t._s(t.i19SyncProducts))])],1)],1),e("a-list-item",[e("a-list-item-meta",{attrs:{description:t.i19SyncCustomersMessage}},[e("a",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.i19SyncCustomers))])]),e("div",[e("a-button",{attrs:{type:"primary"},on:{click:t.syncCustomers}},[t._v(t._s(t.i19SyncCustomers))])],1)],1)],1)],1)],1)],1),e("div",[e("a-modal",{attrs:{footer:null,title:t.i19Lists},model:{value:t.showModalLists,callback:function(s){t.showModalLists=s},expression:"showModalLists"}},[e("a-list",{attrs:{"item-layout":"horizontal","data-source":t.localLists},scopedSlots:t._u([{key:"renderItem",fn:function(s,i){return e("a-list-item",{},[e("a-list-item-meta",{attrs:{description:"Id: "+s.id}},[e("a",{attrs:{slot:"title"},slot:"title"},[t._v("Nome: "+t._s(s.name.toUpperCase()))]),e("a-avatar",{attrs:{slot:"avatar"},slot:"avatar"},[t._v(t._s(i))])],1)],1)}}])})],1)],1),e("div",[e("a-modal",{attrs:{footer:null,title:t.i19Stores},model:{value:t.showModalStores,callback:function(s){t.showModalStores=s},expression:"showModalStores"}},[e("a-list",{attrs:{"item-layout":"vertical","data-source":t.localStores},scopedSlots:t._u([{key:"renderItem",fn:function(s){return e("a-list-item",{},[e("a-list-item-meta",[e("a",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(s.name.toUpperCase()))])]),e("div",{staticClass:"mt-2"},[t._v("Store Id: "+t._s(s.id))]),e("div",{staticClass:"mt-2"},[t._v("Store List Id: "+t._s(s.list_id))]),e("div",{staticClass:"mt-2"},[t._v("E-mail: "+t._s(s.email_address))])],1)}}])})],1)],1),e("div",[e("a-modal",{attrs:{footer:null,title:"Erro"},model:{value:t.showModalError,callback:function(s){t.showModalError=s},expression:"showModalError"}},[e("a-result",{attrs:{status:"403",title:"403","sub-title":"Sua conta não permite essa operação, verifique seu plano atual no Mailchimp e tente novamente."}})],1)],1)]},proxy:!0}])})},o=[],a=e("cebe"),r=e.n(a),n=e("83c4"),c=e("ae1a"),l=e("b6ba"),u=r.a.create({baseURL:"https://us-central1-ecom-mailchimp.cloudfunctions.net/app",headers:{"X-Store-Id":n["$ecomConfig"].get("store_id")}}),m={name:"AppMailchimp",components:{Application:l["a"]},data:function(){return{showModalLists:!1,showModalStores:!1,showModalError:!1,lists:[],stores:[]}},computed:{localStores:{get:function(){return this.stores},set:function(t){this.stores=t}},localLists:{get:function(){return this.lists},set:function(t){this.lists=t}},i19ApiKeyAlert:function(){return Object(n["i18n"])({en_us:"Api Key must be setted",pt_br:"Api Key precisa está configurada"})},i19Advanced:function(){return Object(n["i18n"])(c["f"])},i19StoresDescription:function(){return Object(n["i18n"])({en_us:"Search your stores on Mailchimp or create a new one.",pt_br:"Busque suas lojas no Mailchimp ou crie uma nova."})},i19Stores:function(){return Object(n["i18n"])({en_us:"Stores",pt_br:"Lojas"})},i19StoreFetch:function(){return Object(n["i18n"])({en_us:"Search my stores",pt_br:"Buscar minhas lojas"})},i19StoreCreate:function(){return Object(n["i18n"])({en_us:"Create store",pt_br:"Criar loja"})},i19Options:function(){return Object(n["i18n"])({en_us:"Options",pt_br:"Opções"})},i19ListDescription:function(){return Object(n["i18n"])({en_us:"Search lists or create new",pt_br:"Buscar listas ou criar nova"})},i19Lists:function(){return Object(n["i18n"])({en_us:"Lists",pt_br:"Listas"})},i19ListsSearch:function(){return Object(n["i18n"])({en_us:"Search my lists",pt_br:"Buscar minhas listas"})},i19ListsCreate:function(){return Object(n["i18n"])({en_us:"Create list",pt_br:"Criar lista"})},i19StoreIdAlert:function(){return Object(n["i18n"])({en_us:"Store Id and List Id must be setted",pt_br:"Store Id e List Id precisam está configurada"})},i19SyncProducts:function(){return Object(n["i18n"])({en_us:"Sync Products",pt_br:"Sincronizar Produtos"})},i19SyncProductsMessage:function(){return Object(n["i18n"])({en_us:"Synchronize all products with Mailchimp",pt_br:"Sincronizar todos os produtos com o Mailchimp"})},i19SyncCustomers:function(){return Object(n["i18n"])({en_us:"Sync Customer",pt_br:"Sincronizar Clientes"})},i19SyncCustomersMessage:function(){return Object(n["i18n"])({en_us:"Synchronize all customers with Mailchimp",pt_br:"Sincronizar todos os clientes com o Mailchimp"})},i19MailchimpLimitErr:function(){return Object(n["i18n"])({en_us:"Your account does not allow this operation, check your current plan on Mailchimp and try again.",pt_br:"Sua conta não permite essa operação, verifique seu plano atual no Mailchimp e tente novamente."})}},methods:{handleClick:function(t){var s=t.key;return this[s]()},newStore:function(){var t=this;u({url:"/mailchimp/stores",method:"post"}).then(this.fetchStores).catch((function(s){t.showModalError=!0}))},fetchStores:function(){var t=this;u({url:"/mailchimp/stores",method:"get"}).then((function(s){var e=s.data;t.localStores=e.results,t.showModalStores=!0}))},fetchLists:function(){var t=this;u({url:"/mailchimp/lists",method:"get"}).then((function(s){var e=s.data;t.localLists=e.results,t.showModalLists=!0}))},newList:function(){var t=this;u({url:"/mailchimp/lists",method:"post"}).then(this.fetchLists).catch((function(s){t.showModalError=!0}))},syncProducts:function(){var t=this;u({url:"/mailchimp/products",method:"post"}).then((function(){t.$bvToast.toast("Sincronizado com sucesso",{variant:"success",title:"Mailchimp"})})).catch((function(s){console.log(s),t.$bvToast.toast("Não foi possível realizar a sincronização. Tente novamente mais tarde ou informe o suporte.",{variant:"danger",title:"Mailchimp"})}))},syncCustomers:function(){var t=this;u({url:"/mailchimp/customers",method:"post"}).then((function(){t.$bvToast.toast("Sincronizado com sucesso",{variant:"success",title:"Mailchimp"})})).catch((function(s){console.log(s),t.$bvToast.toast("Não foi possível realizar a sincronização. Tente novamente mais tarde ou informe o suporte.",{variant:"danger",title:"Mailchimp"})}))}}},d=m,p=e("2877"),h=Object(p["a"])(d,i,o,!1,null,null,null);s["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d2136c9.js.map